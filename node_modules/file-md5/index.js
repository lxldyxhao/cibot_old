'use strict';

const fs = require('fs');
const crypto = require('crypto');

module.exports = function(path,callback){
  let MD5_VALUE = crypto.createHash('md5');
  if(callback && typeof callback == 'function'){
    fs.readFile(path,function(err,result){
      if(err){
        callback(err,null);
      }else{
        callback(null,MD5_VALUE.update(result).digest('hex'));
      }
    })
  }else{
    return MD5_VALUE.update(fs.readFileSync(path)).digest('hex');
  }
}